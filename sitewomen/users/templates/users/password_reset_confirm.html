{% extends 'users/base_auth.html' %}

{% block title %}Новый пароль{% endblock %}

{% block content %}
<h2 class="text-xl font-semibold text-gray-800 mb-6 text-center">Введите новый пароль</h2>

<form method="post">
    {% csrf_token %}
    
    <div class="mb-4">
        <label for="id_new_password1" class="block text-gray-700 text-sm font-medium mb-2">Новый пароль</label>
        <div class="relative">
            <input type="password" name="new_password1" id="id_new_password1" required
                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 pr-12"
                   placeholder="Введите новый пароль">
            <i class="fas fa-eye absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer password-toggle hover:text-gray-600"
               onclick="togglePassword('id_new_password1')"></i>
        </div>
    </div>

    <div class="mb-6">
        <label for="id_new_password2" class="block text-gray-700 text-sm font-medium mb-2">Подтвердите пароль</label>
        <div class="relative">
            <input type="password" name="new_password2" id="id_new_password2" required
                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 pr-12"
                   placeholder="Повторите новый пароль">
            <i class="fas fa-eye absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer password-toggle hover:text-gray-600"
               onclick="togglePassword('id_new_password2')"></i>
        </div>
    </div>

    <button type="submit"
            class="w-full bg-orange-600 hover:bg-orange-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300">
        Сохранить новый пароль
    </button>
</form>

<script>
function togglePassword(inputId) {
    const input = document.getElementById(inputId);
    const icon = input.parentNode.querySelector('.password-toggle');

    if (input.type === 'password') {
        input.type = 'text';
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
    } else {
        input.type = 'password';
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
    }
}
</script>

<style>
.password-toggle {
    transition: color 0.2s ease;
    z-index: 10;
}

.password-toggle:hover {
    color: #4b5563 !important;
}
</style>
{% endblock %}